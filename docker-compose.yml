version: "3.5"

services:

  samba:
    container_name: samba
    image: dperson/samba
    command: '-p -r'
    ports:
      - "139:139"
      - "445:445"
    volumes:
      - ${SHARE_DATA_PATH}:/media
    environment:
      USERID: "1000"
      GROUPID: "1000"
      SHARE: "buffalo;/media/wdred-alpha/buffalo;yes;no;yes;all;none;;buffalo"
      SHARE1: "maxtor;/media/wdred-alpha/maxtor;yes;no;yes;all;none;;maxtor"
    restart: unless-stopped

  #nfs:
    #container_name: nfs
    #image: erichough/nfs-server
    #volumes:
      #- ${SHARE_DATA_PATH}:/media
      #- /lib/modules:/lib/modules:ro
    #environment:
      #NFS_EXPORT_0: "/media/wdred-alpha 192.168.0.0/255.255.255.0(rw,async,insecure,no_subtree_check,all_squash,anonuid=1000,anongid=1000)"
      #NFS_EXPORT_1: "/media/wdred-bravo 192.168.0.0/255.255.255.0(rw,async,insecure,no_subtree_check,all_squash,anonuid=1000,anongid=1000)"
      #NFS_EXPORT_2: "/media/wdred-charlie 192.168.0.0/255.255.255.0(rw,async,insecure,no_subtree_check,all_squash,anonuid=1000,anongid=1000)"
    #cap_add:
      #- SYS_ADMIN
      #- SYS_MODULE
    #ports:
      #- "2049:2049"
    #restart: unless-stopped
